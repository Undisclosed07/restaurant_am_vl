<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

This Template is responsible for creating a table of domain objects.

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
Resources:
Private:
Templates:
List.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder

<f:section name="content">

	<div class="frame-container">
		<div class="frame-inner">
			<div class="card card-panel card-panel-info">
				<h1 class="card-header">
					<span>Nos spécialités</span>
				</h1>
				<div class="card-body">
					<p>Au restaurant AM VL, nous sommes spécialisés dans la restauration de qualité.
						Nos produits frais sont cuisinés par notre chef triplement étoilé.
						Le goût est au coeur de nos recettes. Nous vous proposons tous les jours un plat, choisi par le chef
						qui ne cessera de vous étonner grâce au mélange de saveurs.
					</p>
				</div>
			</div>
		</div>
	</div>

	<br><h1 class="text-info">La carte (Dish)</h1>

	<table class="table table-striped">
		<tr style="text-align: center;">
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.name" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.description" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.photo" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.type" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.price" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.discount" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.allergens" />
			</th>
			<th>
				<f:translate key="tx_restaurantamvl_domain_model_dish.frozens" />
			</th>
		</tr>
		<f:widget.paginate objects="{dishes}" as="paginatedDishes" configuration="{itemsPerPage: 2}">
			<f:for each="{dishes}" as="dish">
				<tr style="text-align: center;">
					<td>
						<f:link.action action="show" arguments="{dish : dish}"> {dish.name}</f:link.action>
					</td>
					<td>
						{dish.description -> f:format.html(parseFuncTSPath: 'lib.parseFunc')}
					</td>
					<td>
						<f:link.action action="show" arguments="{dish : dish}">
							<f:image image="{dish.photo}" width="200px" treatIdAsReference="1" />
						</f:link.action>
					</td>
					<td>
						<f:if condition="{dish.type} == 1">
							<f:then>
								Entrée
							</f:then>
							<f:else if="{dish.type} == 2">
								Plat principal
							</f:else>
							<f:else if="{dish.type} == 3">
								Fromage
							</f:else>
							<f:else>
								Dessert
							</f:else>
						</f:if>
					</td>
					<td>
						{dish.price}€
					</td>
					<td>
						<f:if condition="{dish.discount} == 0">
							<f:then>
								Pas de réduction
							</f:then>
							<f:else>
								Réduction de : {dish.discount}€
							</f:else>
						</f:if>
					</td>
					<td>
						<f:if then="Oui" else="Non" condition="{dish.allergens} == 1"></f:if>
					</td>
					<td>
						<f:if then="Oui" else="Non" condition="{dish.frozens} == 1"></f:if>
					</td>
				</tr>
			</f:for>
		</f:widget.paginate>
	</table>

	
	<f:link.action action="new" class="btn btn-info" style="border-radius: 3px;">
		<f:image src="EXT:restaurant_am_vl/Resources/Public/Icons/add.png" alt="alt text" />
		New Dish</f:link.action>
</f:section>

</html>